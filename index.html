<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>ì ˆëŒ€ë°©ì–´ ì‡¼í•‘</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ›’</text></svg>">
    
    <!-- Google Analytics ë™ì  ë¡œë“œ (CORB ì˜¤ë¥˜ í•´ê²°) -->
    <script>
    // Google Analytics ë™ì  ë¡œë“œ í•¨ìˆ˜
    function loadGoogleAnalytics() {
        console.log('Google Analytics ë™ì  ë¡œë“œ ì‹œì‘...');
        
    // í™˜ê²½ë³„ ì¸¡ì • ID ìë™ ì„ íƒ
    const isLocalhost = window.location.hostname === 'localhost' || 
                       window.location.hostname === '127.0.0.1';
    
    const measurementId = 'G-BVJPXJP2T9';  // ëª¨ë“  í™˜ê²½ì—ì„œ Netlify ID ì‚¬ìš©
    
    console.log('í˜„ì¬ í™˜ê²½:', isLocalhost ? 'ë¡œì»¬ ê°œë°œ' : 'í”„ë¡œë•ì…˜');
    console.log('ì‚¬ìš©í•  ì¸¡ì • ID:', measurementId, '(Netlify ID í†µì¼)');
    
    const script = document.createElement('script');
    script.async = true;
    script.src = `https://www.googletagmanager.com/gtag/js?id=${measurementId}`;
        
        script.onload = function() {
            console.log('Google Analytics ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì„±ê³µ');
            
            // gtag í•¨ìˆ˜ ì •ì˜
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            window.gtag = gtag;
            
            gtag('js', new Date());
            gtag('config', measurementId, {
                page_title: 'ì ˆëŒ€ë°©ì–´ ì‡¼í•‘ - ê°€ê²©ë¹„êµ ì‚¬ì´íŠ¸',
                page_location: window.location.href,
                send_page_view: true,
                anonymize_ip: false,
                allow_google_signals: true,
                allow_ad_personalization_signals: false,
                debug_mode: true
            });
            
            console.log('Google Analytics ì´ˆê¸°í™” ì™„ë£Œ');
            
            // ì¦‰ì‹œ í˜ì´ì§€ë·° ì´ë²¤íŠ¸ ì „ì†¡
            gtag('event', 'page_view', {
                page_title: 'ì ˆëŒ€ë°©ì–´ ì‡¼í•‘ - ê°€ê²©ë¹„êµ ì‚¬ì´íŠ¸',
                page_location: window.location.href,
                page_path: window.location.pathname
            });
            
            console.log('ì´ˆê¸° í˜ì´ì§€ë·° ì´ë²¤íŠ¸ ì „ì†¡ ì™„ë£Œ');
        };
        
        script.onerror = function() {
            console.error('Google Analytics ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨ - CORB ì°¨ë‹¨ë¨');
            console.log('ëŒ€ì²´ ì¶”ì  ë°©ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤...');
            
            // ëŒ€ì²´ ì¶”ì  ë°©ë²• (Measurement Protocol)
            initFallbackTracking();
        };
        
        document.head.appendChild(script);
    }
    
    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ê¸°ë°˜ ì¶”ì  ì‹œìŠ¤í…œ
    function initFallbackTracking() {
        console.log('ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì¶”ì  ì‹œìŠ¤í…œ ì´ˆê¸°í™”...');
        
        // í´ë¼ì´ì–¸íŠ¸ ID ìƒì„±
        function generateClientId() {
            let clientId = localStorage.getItem('ga_client_id');
            if (!clientId) {
                clientId = Math.random().toString(36).substring(2) + Date.now().toString(36);
                localStorage.setItem('ga_client_id', clientId);
            }
            return clientId;
        }
        
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì´ë²¤íŠ¸ ì €ì¥
        function saveEventToLocal(eventName, parameters) {
            try {
                const events = JSON.parse(localStorage.getItem('ga_events') || '[]');
                const event = {
                    client_id: generateClientId(),
                    event_name: eventName,
                    parameters: parameters,
                    timestamp: new Date().toISOString(),
                    page_title: parameters.page_title || document.title,
                    page_location: parameters.page_location || window.location.href,
                    user_agent: navigator.userAgent,
                    screen_resolution: `${screen.width}x${screen.height}`,
                    language: navigator.language
                };
                
                events.push(event);
                // ìµœê·¼ 100ê°œ ì´ë²¤íŠ¸ë§Œ ìœ ì§€
                localStorage.setItem('ga_events', JSON.stringify(events.slice(-100)));
                
                console.log('ë¡œì»¬ ì´ë²¤íŠ¸ ì €ì¥ ì™„ë£Œ:', eventName, parameters);
                
                // ì €ì¥ëœ ì´ë²¤íŠ¸ ê°œìˆ˜ í‘œì‹œ
                console.log(`ì´ ì €ì¥ëœ ì´ë²¤íŠ¸: ${events.length}ê°œ`);
                
                // ì´ë²¤íŠ¸ ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ ì œê³µ
                if (events.length >= 10) {
                    console.log('ì´ë²¤íŠ¸ ë‚´ë³´ë‚´ê¸° ê°€ëŠ¥: localStorage.getItem("ga_events")');
                }
                
            } catch (error) {
                console.error('ë¡œì»¬ ì´ë²¤íŠ¸ ì €ì¥ ì‹¤íŒ¨:', error);
            }
        }
        
        // gtag í•¨ìˆ˜ êµ¬í˜„ (ë¡œì»¬ ì €ì¥)
        window.gtag = function(command, targetId, parameters) {
            if (command === 'event') {
                const eventName = parameters.event_name || parameters.event_category || 'custom_event';
                saveEventToLocal(eventName, parameters);
            } else if (command === 'config') {
                console.log('GA ì„¤ì • ì €ì¥:', targetId, parameters);
                localStorage.setItem('ga_config', JSON.stringify({
                    measurement_id: targetId,
                    config: parameters,
                    timestamp: new Date().toISOString()
                }));
            }
        };
        
        // í˜ì´ì§€ë·° ì´ë²¤íŠ¸ ì¦‰ì‹œ ì €ì¥
        saveEventToLocal('page_view', {
            page_title: 'ì ˆëŒ€ë°©ì–´ ì‡¼í•‘ - ê°€ê²©ë¹„êµ ì‚¬ì´íŠ¸',
            page_location: window.location.href,
            page_path: window.location.pathname
        });
        
        console.log('ë¡œì»¬ ì¶”ì  ì‹œìŠ¤í…œ í™œì„±í™”ë¨');
        console.log('ì €ì¥ëœ ì´ë²¤íŠ¸ í™•ì¸: localStorage.getItem("ga_events")');
    }
    
    // í˜ì´ì§€ ë¡œë“œ í›„ Google Analytics ë¡œë“œ
    document.addEventListener('DOMContentLoaded', function() {
        // ì•½ê°„ì˜ ì§€ì—° í›„ ë¡œë“œ (ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ë“¤ì´ ë¨¼ì € ë¡œë“œë˜ë„ë¡)
        setTimeout(loadGoogleAnalytics, 100);
    });
    </script>
    
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, getDocs, getDoc, onSnapshot, orderBy, query, doc, updateDoc, where, setDoc, deleteDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import { getStorage, ref, uploadBytes, getDownloadURL } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';
        
        // Firebase ì„¤ì • (ì‹¤ì œ í”„ë¡œì íŠ¸ ì„¤ì •ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”)
        // 1. Firebase Console (https://console.firebase.google.com)ì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
        // 2. Firestore Database í™œì„±í™”
        // 3. í”„ë¡œì íŠ¸ ì„¤ì • > ì¼ë°˜ > ì›¹ ì•±ì—ì„œ ì„¤ì • ë³µì‚¬
const firebaseConfig = {
  apiKey: "AIzaSyB5TXbGISJDljezHHLX93azkB-uixFqQ80",
  authDomain: "price-match-1f952.firebaseapp.com",
  projectId: "price-match-1f952",
  storageBucket: "price-match-1f952.firebasestorage.app",
  messagingSenderId: "630121276155",
  appId: "1:630121276155:web:78337c6ec3270a1457465e",
  measurementId: "G-9V3NBTSTCG"
};
        
        // Firebase ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const storage = getStorage(app);
        
        // ì „ì—­ ë³€ìˆ˜ë¡œ ì„¤ì •
        window.firebaseApp = app;
        window.firestoreDB = db;
        window.firebaseDb = db; // í˜¸í™˜ì„±ì„ ìœ„í•œ ë³„ì¹­
        window.firebaseStorage = () => storage;
        window.firebaseStorageRef = ref;
        window.firebaseUploadBytes = uploadBytes;
        window.firebaseGetDownloadURL = getDownloadURL;
        window.firebaseCollection = collection;
        window.firebaseAddDoc = addDoc;
        window.firebaseGetDocs = getDocs;
        window.firebaseGetDoc = getDoc;
        window.firebaseOnSnapshot = onSnapshot;
        window.firebaseOrderBy = orderBy;
        window.firebaseQuery = query;
        window.firebaseDoc = doc;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseWhere = where;
        window.firebaseSetDoc = setDoc;
        window.firebaseDeleteDoc = deleteDoc;
    </script>
</head>
<body>
    <!-- ëª¨ë°”ì¼ìš© ìµœìƒë‹¨ ë²„íŠ¼ ë°” (ìµœì €ê°€ì‹ ê³ , í•„ë…, ê´€ë¦¬ë§Œ) -->
    <div class="top-button-bar mobile-only">
        <button class="header-btn mini-btn" onclick="toggleSection('productFormDropdown')">
            ğŸ“ í•«ë”œ ì‹ ê³ 
        </button>
        <button class="header-btn" onclick="toggleSection('noticePanel')">
            ğŸ“¢ í•„ë…
        </button>
        <button class="header-btn" id="adminBtn" onclick="toggleSection('adminPanel')">
            âš™ï¸ ê´€ë¦¬
            <span id="adminNotification" class="admin-notification hidden">â€¢</span>
        </button>
    </div>

    <div class="container">
        <!-- í—¤ë” -->
        <header class="header">
            <div class="header-left">
                <!-- ë¹ˆ ê³µê°„ -->
            </div>

            <div class="header-center">
                <h1 class="logo" onclick="goToHome()" style="cursor: pointer;">ì ˆëŒ€ë°©ì–´ ì‡¼í•‘</h1>
            </div>

            <div class="header-right">
                <!-- PCìš© ë²„íŠ¼ë“¤ (ìµœì €ê°€ì‹ ê³ , í•„ë…, ê´€ë¦¬) - ì˜¤ë¥¸ìª½ ëì— ë°°ì¹˜ -->
                <div class="pc-button-group">
                    <button class="header-btn mini-btn" onclick="toggleSection('productFormDropdown')">
                        ğŸ“ í•«ë”œ ì‹ ê³ 
                    </button>
                    <button class="header-btn" onclick="toggleSection('noticePanel')">
                        ğŸ“¢ í•„ë…
                    </button>
                    <button class="header-btn" id="adminBtn" onclick="toggleSection('adminPanel')">
                        âš™ï¸ ê´€ë¦¬
                        <span id="adminNotification" class="admin-notification hidden">â€¢</span>
                    </button>
                </div>
                <div id="productFormDropdown" class="header-dropdown collapsed">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0; font-size: 1.1rem; font-weight: 600;">í•«ë”œ ì‹ ê³ </h3>
                        <button onclick="showMyPriceReports()" style="padding: 6px 12px; font-size: 0.85rem; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                            âœï¸ í•«ë”œ ì‹ ê³  ìˆ˜ì •
                        </button>
                    </div>
                    <form id="productForm" class="product-form">
                        <div class="form-group">
                            <label for="productName">ì œí’ˆëª…</label>
                            <input type="text" id="productName" name="productName" placeholder="ì œí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        
                        <div class="form-group">
                            <label for="productOriginalPrice" style="color: #60a5fa;">ì •ê°€(ì‹œì‘ê°€)</label>
                            <input type="number" id="productOriginalPrice" name="productOriginalPrice" placeholder="ì •ê°€(ì‹œì‘ê°€)ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì›)">
                        </div>
                        
                        <div class="form-group">
                            <label for="productPrice" style="color: #dc2626;">ìµœì¢…ê°€</label>
                            <input type="number" id="productPrice" name="productPrice" placeholder="ìµœì¢…ê°€ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì›)">
                        </div>
                        
                        <div class="form-group">
                            <label for="productLink">ë§í¬</label>
                            <input type="url" id="productLink" name="productLink" placeholder="https://example.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="productStore">ì‡¼í•‘ëª°</label>
                            <select id="productStore" name="productStore">
                                <option value="">ë¯¸ì„ íƒ</option>
                                <option value="ì¿ íŒ¡">ì¿ íŒ¡</option>
                                <option value="ë„¤ì´ë²„">ë„¤ì´ë²„</option>
                                <option value="11ë²ˆê°€">11ë²ˆê°€</option>
                                <option value="Gë§ˆì¼“">Gë§ˆì¼“</option>
                                <option value="ì˜¥ì…˜">ì˜¥ì…˜</option>
                                <option value="ë¡¯ë°ì˜¨">ë¡¯ë°ì˜¨</option>
                                <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                            </select>
                        </div>
                        
                        <!-- ì¹´í…Œê³ ë¦¬ ì„ íƒ (ì„ íƒì‚¬í•­) -->
                        <div class="category-selector">
                            <label for="productCategory">ì¹´í…Œê³ ë¦¬ (ì„ íƒì‚¬í•­)</label>
                            <select id="productCategory" name="productCategory">
                                <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ ì•ˆí•¨</option>
                                <option value="ì‹í’ˆ">ì‹í’ˆ</option>
                                <option value="ìƒí™œ">ìƒí™œ</option>
                                <option value="ê°€ì „">ê°€ì „</option>
                                <option value="ìœ ì•„">ìœ ì•„</option>
                                <option value="ê¸°íƒ€">ì¼ë°˜ë”œ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="productImage">ìƒí’ˆ ì´ë¯¸ì§€ (ì„ íƒì‚¬í•­, ì—¬ëŸ¬ì¥ ê°€ëŠ¥)</label>
                            <input type="file" id="productImage" name="productImage" accept="image/*" multiple onchange="handleImageSelection()">
                            <small style="color: #6b7280; font-size: 0.8rem;">JPG, PNG í˜•ì‹, ìµœëŒ€ 5MB (Ctrl/Cmd í‚¤ë¡œ ì—¬ëŸ¬ì¥ ì„ íƒ)</small>
                            <div id="imagePreviewContainer" style="display: none; margin-top: 12px;"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="productDescription">ê²Œì‹œê¸€ ì‘ì„± (ì„ íƒì‚¬í•­)</label>
                            <textarea id="productDescription" name="productDescription" rows="8" placeholder="ìƒí’ˆì— ëŒ€í•œ ìƒì„¸ ì„¤ëª…ì´ë‚˜ í›„ê¸°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”... (ì¸í„°ë„· ì£¼ì†Œë¥¼ ì…ë ¥í•˜ë©´ í´ë¦­ ê°€ëŠ¥í•œ ë§í¬ë¡œ ë³€í™˜ë©ë‹ˆë‹¤)"></textarea>
                        </div>
                        
                        <button type="submit" class="submit-btn">ì œí’ˆ ë“±ë¡</button>
                    </form>
                    
                    <!-- ê°ì‚¬ ë©”ì‹œì§€ -->
                    <div id="thankYouMessage" class="thank-you-message hidden">
                        <div class="message-content">
                            <h4 id="messageTitle">ğŸ‰ ê°ì‚¬í•©ë‹ˆë‹¤!</h4>
                            <p id="messageText">ì œí’ˆ ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                            <button id="closeMessage" class="close-btn">í™•ì¸</button>
                        </div>
                    </div>
                </div>
                
                <!-- í•„ë… íŒ¨ë„ -->
                <div id="noticePanel" class="notice-panel collapsed">
                    <!-- ê³µì§€ì‚¬í•­ ì„¹ì…˜ -->
                    <div class="notice-section">
                        <div class="notice-header">
                            <h4>ğŸ“¢ ê³µì§€ì‚¬í•­</h4>
                            <div class="notice-controls">
                                <button id="editNotice" class="notice-btn edit-btn hidden">âœï¸ ìˆ˜ì •</button>
                                <button id="addNotice" class="notice-btn add-btn hidden">â• ì¶”ê°€</button>
                                <button id="deleteNotice" class="notice-btn delete-btn hidden">ğŸ—‘ï¸ ì‚­ì œ</button>
                            </div>
                        </div>
                        
                        <!-- ê³µì§€ì‚¬í•­ í‘œì‹œ -->
                        <div id="noticeDisplay" class="notice-display">
                            <div class="main-notice">
                                <h5>ëŒ€ë¬¸ê¸€</h5>
                                <div id="mainNoticeContent" class="notice-content-item">ëŒ€ë¬¸ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                            </div>
                            <div class="sub-notices">
                                <div class="notice-item">
                                    <span class="notice-label">ê³µì§€1:</span>
                                    <span id="notice1Content" class="notice-content-item">ê³µì§€1ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                                </div>
                                <div class="notice-item">
                                    <span class="notice-label">ê³µì§€2:</span>
                                    <span id="notice2Content" class="notice-content-item">ê³µì§€2ê°€ ì—†ìŠµë‹ˆë‹¤.</span>
                                </div>
                                <div class="notice-item">
                                    <span class="notice-label">ê³µì§€3:</span>
                                    <span id="notice3Content" class="notice-content-item">ê³µì§€3ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                                </div>
                                <div class="notice-item">
                                    <span class="notice-label">ê³µì§€4:</span>
                                    <span id="notice4Content" class="notice-content-item">ê³µì§€4ê°€ ì—†ìŠµë‹ˆë‹¤.</span>
                                </div>
                                <div class="notice-item">
                                    <span class="notice-label">ê³µì§€5:</span>
                                    <span id="notice5Content" class="notice-content-item">ê³µì§€5ê°€ ì—†ìŠµë‹ˆë‹¤.</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ê³µì§€ì‚¬í•­ í¸ì§‘ -->
                        <div id="noticeEdit" class="notice-edit hidden">
                            <div class="notice-edit-form">
                                <div class="form-group">
                                    <label for="mainNoticeTextarea">ëŒ€ë¬¸ê¸€</label>
                                    <textarea id="mainNoticeTextarea" rows="4" placeholder="ëŒ€ë¬¸ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="notice1Textarea">ê³µì§€1</label>
                                    <textarea id="notice1Textarea" rows="1" placeholder="ê³µì§€1ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="notice2Textarea">ê³µì§€2</label>
                                    <textarea id="notice2Textarea" rows="1" placeholder="ê³µì§€2ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="notice3Textarea">ê³µì§€3</label>
                                    <textarea id="notice3Textarea" rows="1" placeholder="ê³µì§€3ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="notice4Textarea">ê³µì§€4</label>
                                    <textarea id="notice4Textarea" rows="1" placeholder="ê³µì§€4ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="notice5Textarea">ê³µì§€5</label>
                                    <textarea id="notice5Textarea" rows="1" placeholder="ê³µì§€5ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                                </div>
                                
                                <div class="notice-actions">
                                    <button id="saveNotice" class="notice-btn save-btn">ì €ì¥</button>
                                    <button id="cancelNotice" class="notice-btn cancel-btn">ì·¨ì†Œ</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ìˆ«ìë³„ ëŒ“ê¸€ ì„¹ì…˜ -->
                    <div class="comments-section">
                        <div class="comments-header">
                            <h4>ğŸ’¬ ëŒ“ê¸€</h4>
                            <span id="commentCount" class="comment-count">0ê°œ</span>
                        </div>
                        
                        <!-- ìˆ«ìë³„ ëŒ“ê¸€ ëª©ë¡ -->
                        <div id="commentsList" class="comments-list">
                            <!-- ìˆ«ìë³„ ëŒ“ê¸€ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>
                
                <!-- ê³µì§€ì‚¬í•­ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
                <div id="noticeDetailModal" class="modal hidden">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="noticeDetailTitle">ê³µì§€ì‚¬í•­ ìƒì„¸ë³´ê¸°</h3>
                            <button id="closeNoticeDetail" class="close-btn">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div id="noticeDetailContent" class="notice-detail-content">
                                <!-- ê³µì§€ì‚¬í•­ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </div>
                            
                            <!-- ê³µì§€ì‚¬í•­ë³„ ëŒ“ê¸€ ì„¹ì…˜ -->
                            <div class="notice-comments-section">
                                <div class="comments-header">
                                    <h4>ğŸ’¬ ëŒ“ê¸€</h4>
                                    <span id="noticeCommentCount" class="comment-count">0ê°œ</span>
                                </div>
                                
                                <!-- ëŒ“ê¸€ ì‘ì„± -->
                                <div class="notice-comment-form">
                                    <div class="form-group">
                                        <label for="noticeCommentInput">ëŒ“ê¸€ ì‘ì„±</label>
                                        <textarea id="noticeCommentInput" rows="3" placeholder="ëŒ“ê¸€ì„ ì‘ì„±í•˜ì„¸ìš”..."></textarea>
                                    </div>
                                    
                                    <button id="submitNoticeComment" class="comment-btn submit-btn">ëŒ“ê¸€ ì‘ì„±</button>
                                </div>
                                
                                <!-- ëŒ“ê¸€ ëª©ë¡ -->
                                <div id="noticeCommentsList" class="comments-list">
                                    <!-- ëŒ“ê¸€ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="adminPanel" class="header-dropdown collapsed" style="display: none !important;">
                    <div class="admin-panel">
                        <div class="admin-controls">
                            <button id="loadPendingProducts" class="admin-btn">
                                ìŠ¹ì¸ëŒ€ê¸°
                                <span id="pendingProductsBadge" class="admin-badge hidden">0</span>
                            </button>
                            <button id="loadAllProducts" class="admin-btn">ì „ì²´</button>
                            <button id="loadPriceReports" class="admin-btn">
                                ë³€ê²½ì‹ ê³ 
                                <span id="priceReportsBadge" class="admin-badge hidden">0</span>
                            </button>
                            <button id="loadOutOfStockSettings" class="admin-btn">í’ˆì ˆì„¤ì •</button>
                            <button id="generateThumbnailsForAll" class="admin-btn" style="font-size: 0.85rem; padding: 6px 12px;">ğŸ“¸ ì¸ë„¤ì¼</button>
                            <button id="adminLogout" class="admin-btn logout-btn">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
                        </div>
                        
                        <div id="thumbnailGenerationStatus" class="pending-products-list" style="display: none;">
                            <div class="settings-section">
                                <h3>ì¸ë„¤ì¼ ì¼ê´„ ìƒì„± ì§„í–‰ ìƒí™©</h3>
                                <div id="thumbnailProgress" style="margin: 20px 0;">
                                    <div style="background: #f3f4f6; border-radius: 8px; padding: 16px; margin-bottom: 16px;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span>ì§„í–‰ë¥ :</span>
                                            <span id="thumbnailProgressText">0 / 0</span>
                                        </div>
                                        <div style="background: #e5e7eb; height: 24px; border-radius: 12px; overflow: hidden;">
                                            <div id="thumbnailProgressBar" style="background: linear-gradient(135deg, #3b82f6, #2563eb); height: 100%; width: 0%; transition: width 0.3s; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.75rem; font-weight: 600;">0%</div>
                                        </div>
                                    </div>
                                    <div id="thumbnailStatusText" style="color: #6b7280; font-size: 0.9rem;">ì¤€ë¹„ ì¤‘...</div>
                                </div>
                                <button id="cancelThumbnailGeneration" class="admin-btn" style="width: 100%; background: #ef4444;">ì·¨ì†Œ</button>
                            </div>
                        </div>
                        
                        <div id="outOfStockSettings" class="pending-products-list" style="display: none;">
                            <div class="settings-section">
                                <h3>í’ˆì ˆ ë‹¨ê³„ ì„¤ì •</h3>
                                <p style="font-size: 0.85rem; color: #6b7280; margin-bottom: 20px;">
                                    í’ˆì ˆ ì‹ ê³  íšŸìˆ˜ì— ë”°ë¼ ì¹´í…Œê³ ë¦¬ì— ìƒ‰ìƒ Xì„ ì´ í‘œì‹œë©ë‹ˆë‹¤.
                                </p>
                                
                                <div class="form-group" style="margin-bottom: 20px;">
                                    <label>ê´€ë¦¬ì ì„¤ì • (í’ˆì ˆì‹ ê³  ìë™ ìƒì„±):</label>
                                    <input type="number" id="outOfStockAutoReport" min="1" value="5" style="width: 100px; padding: 8px; margin-left: 10px;" onchange="updateAutoReportText()">
                                    <span id="autoReportText" style="color: #3b82f6; margin-left: 10px;">ğŸ“¢ í’ˆì ˆ 5íšŒ ë„ë‹¬ ì‹œ ìë™ìœ¼ë¡œ ë³€ê²½ì‹ ê³ ì— í’ˆì ˆì‹ ê³  ìƒì„±</span>
                                </div>
                                
                                <div class="form-group" style="margin-bottom: 20px;">
                                    <label>1ë‹¨ê³„ (ì´ˆë¡ìƒ‰):</label>
                                    <input type="number" id="outOfStockStage1" min="1" value="1" style="width: 100px; padding: 8px; margin-left: 10px;">
                                    <span style="color: #10b981; margin-left: 10px;">âœ“ í’ˆì ˆ 1íšŒ ì´ìƒ</span>
                                </div>
                                
                                <div class="form-group" style="margin-bottom: 20px;">
                                    <label>2ë‹¨ê³„ (ë…¸ë€ìƒ‰):</label>
                                    <input type="number" id="outOfStockStage2" min="2" value="5" style="width: 100px; padding: 8px; margin-left: 10px;">
                                    <span style="color: #f59e0b; margin-left: 10px;">âš  í’ˆì ˆ 5íšŒ ì´ìƒ</span>
                                </div>
                                
                                <div class="form-group" style="margin-bottom: 20px;">
                                    <label>3ë‹¨ê³„ (ë¹¨ê°•ìƒ‰):</label>
                                    <input type="number" id="outOfStockStage3" min="3" value="10" style="width: 100px; padding: 8px; margin-left: 10px;">
                                    <span style="color: #ef4444; margin-left: 10px;">âœ— í’ˆì ˆ 10íšŒ ì´ìƒ</span>
                                </div>
                                
                                <button id="saveOutOfStockSettings" class="admin-btn" style="width: 100%; margin-top: 20px;">
                                    ğŸ’¾ ì„¤ì • ì €ì¥
                                </button>
                            </div>
                        </div>
                        <div id="pendingProductsList" class="pending-products-list"></div>
                        <div id="allProductsList" class="pending-products-list"></div>
                        <div id="priceReportsList" class="pending-products-list"></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- ì¹´í…Œê³ ë¦¬ ë°” -->
        <div class="category-bar">
            <div class="category-item" onclick="filterByCategory('ì „ì²´')">
                <span class="category-name">ì „ì²´</span>
                <span class="category-count" id="totalCount">0</span>
            </div>
            <div class="category-item" data-category="ì‹í’ˆ" onclick="filterByCategory('ì‹í’ˆ')">
                <span class="category-name"><span style="font-size: 0.7em; vertical-align: middle;">ğŸš</span> ì‹í’ˆ</span>
                <span class="category-count" id="foodCount">0</span>
            </div>
            <div class="category-item" data-category="ìƒí™œ" onclick="filterByCategory('ìƒí™œ')">
                <span class="category-name"><span style="font-size: 0.7em; vertical-align: middle;">ğŸ </span> ìƒí™œ</span>
                <span class="category-count" id="dailyCount">0</span>
            </div>
            <div class="category-item" data-category="ê°€ì „" onclick="filterByCategory('ê°€ì „')">
                <span class="category-name"><span style="font-size: 0.7em; vertical-align: middle;">ğŸŒ€</span> ê°€ì „</span>
                <span class="category-count" id="electronicsCount">0</span>
            </div>
            <div class="category-item" data-category="ìœ ì•„" onclick="filterByCategory('ìœ ì•„')">
                <span class="category-name"><span style="font-size: 0.7em; vertical-align: middle;">ğŸ¼</span> ìœ ì•„</span>
                <span class="category-count" id="babyCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ê¸°íƒ€')">
                <span class="category-name">ì¼ë°˜ë”œ</span>
                <span class="category-count" id="etcCount">0</span>
            </div>
        </div>

        <!-- ì •ë ¬ ë°” -->
        <div class="sort-bar">
            <button class="sort-item active" data-sort="discount" onclick="sortProducts('discount')">
                í• ì¸ìœ¨ìˆœ
            </button>
            <button class="sort-item" data-sort="newest" onclick="sortProducts('newest')">
                ì‹ ê·œìˆœ
            </button>
            <button class="sort-item" data-sort="price-low" onclick="sortProducts('price-low')">
                ë‚®ì€ê°€ê²©ìˆœ
            </button>
            <button class="sort-item" data-sort="price-high" onclick="sortProducts('price-high')">
                ë†’ì€ê°€ê²©ìˆœ
            </button>
            <button class="sort-item" data-sort="clicks" onclick="sortProducts('clicks')">
                í´ë¦­ìˆœ
            </button>
            <button class="sort-item" data-sort="purchases" onclick="sortProducts('purchases')">
                êµ¬ë§¤ìˆœ
            </button>
        </div>

        <!-- ê²€ìƒ‰ ê²°ê³¼ -->
        <main class="main-content">
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>ê°€ê²©ì„ ë¹„êµí•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
            </div>

            <div id="searchResults" class="search-results hidden">
                <div id="productList" class="product-list"></div>
            </div>

            <div id="noResults" class="no-results hidden">
                <p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”.</p>
            </div>
        </main>
    </div>

    <!-- ìƒí’ˆ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div id="productDetailDropdown" class="header-dropdown collapsed">
        <div class="product-detail-content">
            <!-- ë³¸ë¬¸ -->
            <div class="product-detail-body">
                <div id="productDetailInfo" class="detail-info">
                    <!-- ìƒí’ˆ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
                
                <div id="productDetailPosts" class="posts-section">
                    <!-- ê²Œì‹œê¸€ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
                
                <div id="commentActionsSection" class="comment-actions-section" style="display: none;">
                    <div class="detail-actions">
                        <button onclick="handleRecommendClick()" id="recommendBtn" class="detail-action-btn recommend-btn">
                            ì¶”ì²œ <span id="recommendCount">0</span>
                        </button>
                        <button onclick="handleOutOfStockClick()" id="outOfStockDetailBtn" class="detail-action-btn out-of-stock-btn">
                            í’ˆì ˆ <span id="outOfStockCount">0</span>
                        </button>
                        <a id="purchaseDetailBtn" href="#" target="_blank" class="detail-action-btn purchase-btn">êµ¬ë§¤í•˜ê¸°</a>
                    </div>
                </div>
                
                <div id="commentFormSection" class="comment-form-section" style="margin-top: 20px;">
                    <textarea id="productDetailComment" rows="3" placeholder="ëŒ“ê¸€ì„ ì‘ì„±í•˜ì„¸ìš”..."></textarea>
                    <button onclick="submitProductDetailComment()">ëŒ“ê¸€ ì‘ì„±</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ì‚­ì œ í™•ì¸ íŒì—… -->
    <div id="deleteConfirmationPopup" class="delete-confirmation-overlay">
        <div class="delete-confirmation-popup">
            <div class="delete-confirmation-header">
                <h3>âš ï¸ ì‚­ì œ í™•ì¸</h3>
            </div>
            <div class="delete-confirmation-content">
                <p id="deleteConfirmationMessage">ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                <p class="delete-warning">ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
            <div class="delete-confirmation-actions">
                <button id="deleteConfirmYes" class="delete-yes-btn">YES</button>
                <button id="deleteConfirmNo" class="delete-no-btn">NO</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
