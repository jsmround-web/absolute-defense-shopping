<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>ì ˆëŒ€ë°©ì–´ ì‡¼í•‘</title>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BVJPXJP2T9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-BVJPXJP2T9');
    </script>
    
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, getDocs, onSnapshot, orderBy, query, doc, updateDoc, where } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        // Firebase ì„¤ì • (ì‹¤ì œ í”„ë¡œì íŠ¸ ì„¤ì •ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”)
        // 1. Firebase Console (https://console.firebase.google.com)ì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
        // 2. Firestore Database í™œì„±í™”
        // 3. í”„ë¡œì íŠ¸ ì„¤ì • > ì¼ë°˜ > ì›¹ ì•±ì—ì„œ ì„¤ì • ë³µì‚¬
const firebaseConfig = {
  apiKey: "AIzaSyB5TXbGISJDljezHHLX93azkB-uixFqQ80",
  authDomain: "price-match-1f952.firebaseapp.com",
  projectId: "price-match-1f952",
  storageBucket: "price-match-1f952.firebasestorage.app",
  messagingSenderId: "630121276155",
  appId: "1:630121276155:web:78337c6ec3270a1457465e",
  measurementId: "G-9V3NBTSTCG"
};
        
        // Firebase ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        // ì „ì—­ ë³€ìˆ˜ë¡œ ì„¤ì •
        window.firebaseApp = app;
        window.firestoreDB = db;
        window.firebaseDb = db; // í˜¸í™˜ì„±ì„ ìœ„í•œ ë³„ì¹­
        window.firebaseCollection = collection;
        window.firebaseAddDoc = addDoc;
        window.firebaseGetDocs = getDocs;
        window.firebaseOnSnapshot = onSnapshot;
        window.firebaseOrderBy = orderBy;
        window.firebaseQuery = query;
        window.firebaseDoc = doc;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseWhere = where;
    </script>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <header class="header">
            <div class="header-left">
                <button class="header-btn" onclick="toggleSection('productFormDropdown')">
                    ğŸ“ ìµœì €ê°€ ì‹ ê³ 
                </button>
                <div id="productFormDropdown" class="header-dropdown collapsed">
                    <!-- ì‚¬ìš©ì íƒ€ì… ì„ íƒ -->
                    <div class="user-type-selector">
                        <label class="user-type-option">
                            <input type="radio" name="userType" value="customer" checked>
                            <span>ê³ ê° ì‹ ì²­</span>
                        </label>
                        <label class="user-type-option">
                            <input type="radio" name="userType" value="admin">
                            <span>ê´€ë¦¬ì ë“±ë¡</span>
                        </label>
                    </div>

                    <form id="productForm" class="product-form">
                        <div class="form-group">
                            <label for="productName">ì œí’ˆëª…</label>
                            <input type="text" id="productName" name="productName" placeholder="ì œí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="productPrice">ê°€ê²©</label>
                            <input type="number" id="productPrice" name="productPrice" placeholder="ê°€ê²©ì„ ì…ë ¥í•˜ì„¸ìš” (ì›)" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="productLink">ë§í¬</label>
                            <input type="url" id="productLink" name="productLink" placeholder="https://example.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="productStore">ì‡¼í•‘ëª°</label>
                            <select id="productStore" name="productStore" required>
                                <option value="">ì‡¼í•‘ëª°ì„ ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="ì¿ íŒ¡">ì¿ íŒ¡</option>
                                <option value="ë„¤ì´ë²„ì‡¼í•‘">ë„¤ì´ë²„ì‡¼í•‘</option>
                                <option value="11ë²ˆê°€">11ë²ˆê°€</option>
                                <option value="Gë§ˆì¼“">Gë§ˆì¼“</option>
                                <option value="ì˜¥ì…˜">ì˜¥ì…˜</option>
                                <option value="ë¡¯ë°ì˜¨">ë¡¯ë°ì˜¨</option>
                                <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="submit-btn">ì œí’ˆ ë“±ë¡</button>
                    </form>
                    
                    <!-- ê°ì‚¬ ë©”ì‹œì§€ -->
                    <div id="thankYouMessage" class="thank-you-message hidden">
                        <div class="message-content">
                            <h4 id="messageTitle">ğŸ‰ ê°ì‚¬í•©ë‹ˆë‹¤!</h4>
                            <p id="messageText">ì œí’ˆ ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                            <button id="closeMessage" class="close-btn">í™•ì¸</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="header-center">
                <h1 class="logo">ì ˆëŒ€ë°©ì–´ ì‡¼í•‘</h1>
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”..." class="search-input">
                    <button id="searchBtn" class="search-btn">ê²€ìƒ‰</button>
                </div>
            </div>

            <div class="header-right">
                <button class="header-btn" onclick="toggleSection('adminPanel')">
                    âš™ï¸ ê´€ë¦¬
                </button>
                <div id="adminPanel" class="header-dropdown collapsed">
                    <div class="admin-panel">
                        <div class="admin-controls">
                            <button id="loadPendingProducts" class="admin-btn">ìŠ¹ì¸ ëŒ€ê¸° ì œí’ˆ ë³´ê¸°</button>
                            <button id="loadAllProducts" class="admin-btn">ì „ì²´ ì œí’ˆ ë³´ê¸°</button>
                            <button id="loadPriceReports" class="admin-btn">ê°€ê²© ë³€ê²½ ì‹ ê³  ë³´ê¸°</button>
                        </div>
                        <div id="pendingProductsList" class="pending-products-list"></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- ì¹´í…Œê³ ë¦¬ ë°” -->
        <div class="category-bar">
            <div class="category-item" onclick="filterByCategory('ì „ì²´')">
                <span class="category-name">ì „ì²´</span>
                <span class="category-count" id="totalCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ë‘ìœ ')">
                <span class="category-name">ë‘ìœ </span>
                <span class="category-count" id="soyMilkCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ë…¸íŠ¸ë¶')">
                <span class="category-name">ë…¸íŠ¸ë¶</span>
                <span class="category-count" id="laptopCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ë§ˆìš°ìŠ¤')">
                <span class="category-name">ë§ˆìš°ìŠ¤</span>
                <span class="category-count" id="mouseCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ì´ì–´í°')">
                <span class="category-name">ì´ì–´í°</span>
                <span class="category-count" id="earphoneCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ìš°ìœ ')">
                <span class="category-name">ìš°ìœ </span>
                <span class="category-count" id="milkCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ë¼ë©´')">
                <span class="category-name">ë¼ë©´</span>
                <span class="category-count" id="ramenCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ìƒìˆ˜')">
                <span class="category-name">ìƒìˆ˜</span>
                <span class="category-count" id="waterCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('í™”ì¥ì§€')">
                <span class="category-name">í™”ì¥ì§€</span>
                <span class="category-count" id="tissueCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ì„¸ì œ')">
                <span class="category-name">ì„¸ì œ</span>
                <span class="category-count" id="detergentCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ìƒ´í‘¸')">
                <span class="category-name">ìƒ´í‘¸</span>
                <span class="category-count" id="shampooCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ê¸°ì €ê·€')">
                <span class="category-name">ê¸°ì €ê·€</span>
                <span class="category-count" id="diaperCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ë¶„ìœ ')">
                <span class="category-name">ë¶„ìœ </span>
                <span class="category-count" id="formulaCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ë¬¼í‹°ìŠˆ')">
                <span class="category-name">ë¬¼í‹°ìŠˆ</span>
                <span class="category-count" id="wipesCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ì´ìœ ì‹')">
                <span class="category-name">ì´ìœ ì‹</span>
                <span class="category-count" id="babyFoodCount">0</span>
            </div>
            <div class="category-item" onclick="filterByCategory('ê¸°íƒ€')">
                <span class="category-name">ê¸°íƒ€</span>
                <span class="category-count" id="etcCount">0</span>
            </div>
        </div>



        <!-- ê²€ìƒ‰ ê²°ê³¼ -->
        <main class="main-content">
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>ê°€ê²©ì„ ë¹„êµí•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
            </div>

            <div id="searchResults" class="search-results hidden">
                <div id="productList" class="product-list"></div>
            </div>

            <div id="noResults" class="no-results hidden">
                <p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”.</p>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
